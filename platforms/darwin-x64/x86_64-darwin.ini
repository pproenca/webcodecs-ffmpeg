# =============================================================================
# Meson Cross-File for x86_64 macOS (Intel)
# =============================================================================
# Required when cross-compiling from ARM64 runners to x86_64 target.
# Without this, Meson detects ARM64 as host_machine.cpu_family(), causing
# dav1d to build ARM NEON assembly instead of x86_64 SSE/AVX optimizations.
# =============================================================================

[host_machine]
system = 'darwin'
cpu_family = 'x86_64'
cpu = 'x86_64'
endian = 'little'

[built-in options]
c_args = ['-arch', 'x86_64', '-mmacosx-version-min=10.15']
cpp_args = ['-arch', 'x86_64', '-mmacosx-version-min=10.15']
c_link_args = ['-arch', 'x86_64']
cpp_link_args = ['-arch', 'x86_64']
